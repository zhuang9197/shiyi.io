<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../../src/css/Blog/1.css">

    <script>
        var index = { listIndex: 0, listSize: 4 };
        window.onload = Load;
        window.addEventListener('scroll', function () {
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
                document.getElementById('list').listform('https://cdn.jsdelivr.net/gh/zhuang9197/Resource-Silo/Json/Blog/Database.json', index);
            }
        })

        function Load() {
            document.getElementById('list').listform('https://cdn.jsdelivr.net/gh/zhuang9197/Resource-Silo/Json/Blog/Database.json', index);

            var btn = document.getElementById('btnMenu');
            var menu = document.getElementById('menu');
            btn.addEventListener('click', function () {

                if (getTranslateX(menu) >= 0) {
                    menu.style.transform = 'translateX(-100%)';
                    btn.style.background = 'url(../../../src/assets/MenuShow.png) no-repeat';
                    btn.style.backgroundSize = '100% 100%';
                } else {
                    menu.style.transform = 'translateX(0%)';
                    btn.style.background = 'url(../../../src/assets/MenuHide.png) no-repeat'
                    btn.style.backgroundSize = '100% 100%';
                }
            })
        }

        function getTranslateX(Dom) {
            var style = window.getComputedStyle(Dom);
            var matrix = new WebKitCSSMatrix(style.transform);
            console.log('translateX: ', matrix.m41);
            return matrix.m41;
        }

    </script>
</head>

<body>
    
    <aside id="menu">

        <div style="width: 100%;height: 100%; background-color: aqua; z-index: 666;">
            
            <div class="btnMenu" id='btnMenu'
                style="background-image: url(../../../src/assets/MenuHide.png); background-size: 100%,100%;background-repeat: no-repeat; z-index: 999;">
            </div>
        </div>
    </aside>
    <main id="main">
        <div id = "return" class = "return hidden"><a href="../blog.html"><p class="returnBtn">返回首页</p></a></div>
        <header>
            <div>数据库问题</div>
        </header>
        <div class="container body-wrap" style="background-color: rgb(239, 133, 133);">
            <ul class="post-list" id="list">
               
            </ul>
        </div>
    </main>
    <script src="../../../src/js/listform.js"></script>
    <script src="../../../src/js/mouse.js"></script>
</body>

</html>

